---
import { homepageContent } from '../config/homepage';

const path = Astro.url.pathname.replace(/\/$/, '') || '/';
const normalize = (href: string) => href.replace(/\/$/, '') || '/';
---

<nav class="bottom-pill-menu" aria-label="Hovedmeny">
  {
    homepageContent.bottomQuickNav.map((item) => {
      const href = normalize(item.href);
      const isActive = href === '/' ? path === '/' : path === href || path.startsWith(`${href}/`);

      return (
        <a href={item.href} class={isActive ? 'bottom-pill bottom-pill--active' : 'bottom-pill'} aria-current={isActive ? 'page' : undefined}>
          {item.label}
        </a>
      );
    })
  }
</nav>
